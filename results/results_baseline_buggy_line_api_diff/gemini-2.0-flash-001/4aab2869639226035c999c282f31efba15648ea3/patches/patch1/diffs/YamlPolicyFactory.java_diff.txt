9c9,11
< import com.artipie.asto.factory.Storages;
---
> import com.artipie.asto.factory.Config;
> import com.artipie.asto.factory.StorageFactory;
> import com.artipie.asto.fs.FileStorageFactory;
40a43,50
>             final String type = sub.string("type");
>             final Config astoConfig = new Config.Yaml(Yaml.createYamlInput(sub.toString()).readYamlMapping());
>             final StorageFactory factory;
>             if (type.equals("fs")) {
>                 factory = new FileStorageFactory();
>             } else {
>                 throw new IllegalArgumentException("Unsupported storage type: " + type);
>             }
43,45c53
<                     new Storages().newStorage(
<                         sub.string("type"), Yaml.createYamlInput(sub.toString()).readYamlMapping()
<                     )
---
>                     factory.newStorage(astoConfig)
