8d7
< import com.google.inject.Inject;
14,18c13,17
< import org.spongepowered.api.command.args.CommandContext;
< import org.spongepowered.api.command.args.GenericArguments;
< import org.spongepowered.api.command.spec.CommandExecutor;
< import org.spongepowered.api.command.spec.CommandSpec;
< import org.spongepowered.api.entity.living.player.Player;
---
> import org.spongepowered.api.command.parameter.CommandContext;
> import org.spongepowered.api.command.parameter.CommandParameter;
> import org.spongepowered.api.command.parameter.managed.FlagParameter;
> import org.spongepowered.api.command.parameter.managed.StringParameter;
> import org.spongepowered.api.text.Text;
21,25c20
< import static org.spongepowered.api.command.args.GenericArguments.flags;
< import static org.spongepowered.api.command.args.GenericArguments.string;
< import static org.spongepowered.api.text.Text.of;
< 
< public class SetCommand implements CommandExecutor, ChangeSkinCommand {
---
> public class SetCommand implements org.spongepowered.api.command.CommandExecutor, ChangeSkinCommand {
30,31c25
<     @Inject
<     SetCommand(ChangeSkinSponge plugin, ChangeSkinCore core) {
---
>     public SetCommand(ChangeSkinSponge plugin, ChangeSkinCore core) {
38c32
<         if (!(src instanceof Player)) {
---
>         if (!(src instanceof org.spongepowered.api.entity.living.player.Player)) {
43c37
<         UUID uniqueId = ((Player) src).getUniqueId();
---
>         UUID uniqueId = ((org.spongepowered.api.entity.living.player.Player) src).uniqueId();
49,51c43,45
<         Player receiver = (Player) src;
<         String targetSkin = args.<String>getOne("skin").get();
<         boolean keepSkin = args.hasAny("keep");
---
>         org.spongepowered.api.entity.living.player.Player receiver = (org.spongepowered.api.entity.living.player.Player) src;
>         String targetSkin = args.getOne("skin").get();
>         boolean keepSkin = args.getOne("keep").orElse(false);
54c48
<             targetSkin = receiver.getUniqueId().toString();
---
>             targetSkin = receiver.uniqueId().toString();
76,77c70,73
<     public CommandSpec buildSpec() {
<         return CommandSpec.builder()
---
>     public CommandParameter buildSpec() {
>         FlagParameter keepFlag = FlagParameter.builder().buildWith("keep");
>         StringParameter skinParam = StringParameter.builder().buildWith("skin");
>         return CommandParameter.builder()
79,81c75
<                 .arguments(
<                         string(of("skin")),
<                         flags().flag("keep").buildWith(GenericArguments.none()))
---
>                 .parameters(skinParam, keepFlag)
