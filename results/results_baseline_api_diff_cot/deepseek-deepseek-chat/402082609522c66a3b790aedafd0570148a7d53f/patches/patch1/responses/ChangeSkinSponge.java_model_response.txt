```java
package com.github.games647.changeskin.sponge;

import com.github.games647.changeskin.core.ChangeSkinCore;
import com.github.games647.changeskin.core.PlatformPlugin;
import com.github.games647.changeskin.core.message.NamespaceKey;
import com.github.games647.changeskin.sponge.bungee.CheckPermissionListener;
import com.github.games647.changeskin.sponge.bungee.UpdateSkinListener;
import com.github.games647.changeskin.sponge.command.InfoCommand;
import com.github.games647.changeskin.sponge.command.InvalidateCommand;
import com.github.games647.changeskin.sponge.command.SelectCommand;
import com.github.games647.changeskin.sponge.command.SetCommand;
import com.github.games647.changeskin.sponge.command.UploadCommand;
import com.google.inject.Inject;
import com.google.inject.Injector;
import com.google.inject.Singleton;

import java.nio.file.Path;
import java.util.UUID;

import org.slf4j.Logger;
import org.spongepowered.api.Platform.Type;
import org.spongepowered.api.Sponge;
import org.spongepowered.api.command.CommandCause;
import org.spongepowered.api.command.parameter.CommandContext;
import org.spongepowered.api.event.Listener;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent;
import org.spongepowered.api.event.lifecycle.RegisterChannelEvent;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.Result;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;
import org.spongepowered.api.event.lifecycle.RegisterBuilderEvent.BuilderStep;
import org.spongepowered.api.event.lifecycle.RegisterCommandEvent.CommandStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle.RegisterRegistryValueEvent.RegistryStep;
import org.spongepowered.api.event.lifecycle RegisterDataEvent.DataStep;
import org.spongepowered.api.event.lifecycle.RegisterDataPackValueEvent.DataPackStep;
import org.spongepowered.api.event.lifecycle.RegisterFactoryEvent.FactoryStep;

