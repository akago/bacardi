9,11c9,10
<  * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
<  * copies of the Software, and to permit persons to whom the Software is
<  * furnished to do so, subject to the following conditions:
---
>  * to use, copy, modify, merge, publish, sublicense, and/or sell
>  * copies of the Software, and to permit persons to whom the Software is furnished to do so, subject to the following conditions:
21c20
<  * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
---
>  * OUT OF OR IN CONNECTION WITH THE SOFTWARE, OR THE USE OR OTHER DEALINGS IN
40a40
> import org.kohsuke.github.GHRepository;
239,240c239,245
<             GHCompare.Status status = GitHub.connect().getRepository(ghc.owner + '/' + ghc.repo).getCompare(branch, ghc.hash).status;
<             return status == GHCompare.Status.identical || status == GHCompare.Status.behind;
---
>             GitHub github = GitHub.connect();
>             GHRepository repository = github.getRepository(ghc.owner + '/' + ghc.repo);
>             GHCompare compare = repository.getCompare(branch, ghc.hash);
>             GHCompare.Comparison comparison = compare.get();
>             String status = comparison.getStatus();
> 
>             return "identical".equals(status) || "behind".equals(status);
