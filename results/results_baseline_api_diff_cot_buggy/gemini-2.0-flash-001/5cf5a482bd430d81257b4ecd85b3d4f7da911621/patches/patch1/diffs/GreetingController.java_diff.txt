1,6d0
< package com.example.web;
< 
< import java.util.logging.Logger;
< import javax.enterprise.context.RequestScoped;
< import javax.inject.Inject;
< import javax.mvc.Controller;
13,29c7
< import javax.validation.constraints.NotBlank;
< import javax.ws.rs.FormParam;
< import javax.ws.rs.GET;
< import javax.ws.rs.POST;
< import javax.ws.rs.Path;
< 
< /**
<  *
<  * @author hantsy
<  */
< @Path("greeting")
< @Controller
< @RequestScoped
< public class GreetingController {
< 
<     @Inject
<     BindingResult bindingResult;
---
> import javax.mvc.Controller;
31d8
<     @Inject
33,45c10
< 
<     @Inject
<     AlertMessage flashMessage;
< 
<     @Inject
<     Logger log;
< 
<     @GET
<     public String get() {
<         return "greeting.xhtml";
<     }
< 
<     @POST
---
> BindingResult bindingResult;
47,48d11
<     public String post(
<             @FormParam("greeting")
50,68c13
<             @NotBlank String greeting) {
<         if (bindingResult.isFailed()) {
<             AlertMessage alert = AlertMessage.danger("Validation voilations!");
<             bindingResult.getAllErrors()
<                     .stream()
<                     .forEach((ParamError t) -> {
<                         alert.addError(t.getParamName(), "", t.getMessage());
<                     });
<             models.put("errors", alert);
<             log.info("mvc binding failed.");
<             return "greeting.xhtml";
<         }
< 
<         log.info("redirect to greeting page.");
<         flashMessage.notify(AlertMessage.Type.success, "Message:" + greeting);
<         return "redirect:greeting";
<     }
< 
< }
---
> @Controller
\ No newline at end of file
