14d13
< import org.spongepowered.api.command.CommandSource;
16,17c15
< import org.spongepowered.api.network.ChannelBuf;
< import org.spongepowered.api.network.RawDataListener;
---
> import org.spongepowered.api.network.channel.ChannelBuf;
21c19
< public class UpdateSkinListener implements RawDataListener {
---
> public class UpdateSkinListener /*implements RawDataListener*/ {
26c24
<     @Override
---
>     //@Override
28c26
<         ByteArrayDataInput dataInput = ByteStreams.newDataInput(data.array());
---
>         ByteArrayDataInput dataInput = ByteStreams.newDataInput(data.asByteArray());
35,36c33,34
<             Runnable skinUpdater = new SkinApplier(plugin, (CommandSource) connection, receiver.get(), null, false);
<             Task.builder().execute(skinUpdater).submit(plugin);
---
>             Runnable skinUpdater = new SkinApplier(plugin, (Player) connection, receiver.get(), null, false);
>             Sponge.getAsyncScheduler().submit(skinUpdater, plugin);
