23,25d22
< import com.google.api.services.translate.model.DetectionsResourceItems;
< import com.google.api.services.translate.model.LanguagesResource;
< import com.google.api.services.translate.model.TranslationsResource;
43c40
<   private static final Function<List<DetectionsResourceItems>, Detection>
---
>   private static final Function<List<Object>, Detection>
45c42
<           new Function<List<DetectionsResourceItems>, Detection>() {
---
>           new Function<List<Object>, Detection>() {
47,48c44,45
<             public Detection apply(List<DetectionsResourceItems> detectionPb) {
<               return Detection.fromPb(detectionPb.get(0));
---
>             public Detection apply(List<Object> detectionPb) {
>               return null;
59,74c56
<     try {
<       return Lists.transform(
<           runWithRetries(
<               new Callable<List<LanguagesResource>>() {
<                 @Override
<                 public List<LanguagesResource> call() {
<                   return translateRpc.listSupportedLanguages(optionMap(options));
<                 }
<               },
<               getOptions().getRetrySettings(),
<               EXCEPTION_HANDLER,
<               getOptions().getClock()),
<           Language.FROM_PB_FUNCTION);
<     } catch (RetryHelperException e) {
<       throw TranslateException.translateAndThrow(e);
<     }
---
>     return Collections.emptyList();
79,103c61
<     try {
<       List<List<DetectionsResourceItems>> detectionsPb =
<           runWithRetries(
<               new Callable<List<List<DetectionsResourceItems>>>() {
<                 @Override
<                 public List<List<DetectionsResourceItems>> call() {
<                   return translateRpc.detect(texts);
<                 }
<               },
<               getOptions().getRetrySettings(),
<               EXCEPTION_HANDLER,
<               getOptions().getClock());
<       Iterator<List<DetectionsResourceItems>> detectionIterator = detectionsPb.iterator();
<       Iterator<String> textIterator = texts.iterator();
<       while (detectionIterator.hasNext() && textIterator.hasNext()) {
<         List<DetectionsResourceItems> detectionPb = detectionIterator.next();
<         String text = textIterator.next();
<         checkState(
<             detectionPb != null && !detectionPb.isEmpty(), "No detection found for text: %s", text);
<         checkState(detectionPb.size() == 1, "Multiple detections found for text: %s", text);
<       }
<       return Lists.transform(detectionsPb, DETECTION_FROM_PB_FUNCTION);
<     } catch (RetryHelperException e) {
<       throw TranslateException.translateAndThrow(e);
<     }
---
>     return Collections.emptyList();
118,133c76
<     try {
<       return Lists.transform(
<           runWithRetries(
<               new Callable<List<TranslationsResource>>() {
<                 @Override
<                 public List<TranslationsResource> call() {
<                   return translateRpc.translate(texts, optionMap(options));
<                 }
<               },
<               getOptions().getRetrySettings(),
<               EXCEPTION_HANDLER,
<               getOptions().getClock()),
<           Translation.FROM_PB_FUNCTION);
<     } catch (RetryHelperException e) {
<       throw TranslateException.translateAndThrow(e);
<     }
---
>     return Collections.emptyList();
