22d21
< import com.hazelcast.config.MaxSizeConfig;
27c26,27
< import com.hazelcast.core.Cluster;
---
> import com.hazelcast.config.EvictionConfig;
> import com.hazelcast.cluster.Cluster;
29,30c29
< import com.hazelcast.core.HazelcastInstance;
< import com.hazelcast.core.Member;
---
> import com.hazelcast.cluster.Member;
288c287,291
<             dynamicConfig.setMaxSizeConfig(new MaxSizeConfig(hazelcastMaxCacheSizeInMegaBytes, MaxSizeConfig.MaxSizePolicy.USED_HEAP_SIZE));
---
>             dynamicConfig.setEvictionConfig(
>                 new EvictionConfig()
>                     .setSize(hazelcastMaxCacheSizeInMegaBytes)
>                     .setMaximumSizePolicy(EvictionConfig.MaxSizePolicy.USED_HEAP_SIZE)
>             );
656c659,660
<         return NodeID.getInstance(member.getStringAttribute(HazelcastClusterNodeInfo.NODE_ID_ATTRIBUTE).getBytes(StandardCharsets.UTF_8));
---
>         String nodeIdAttr = (String) member.getAttribute(HazelcastClusterNodeInfo.NODE_ID_ATTRIBUTE);
>         return NodeID.getInstance(nodeIdAttr.getBytes(StandardCharsets.UTF_8));
701,703d704
< 
< 
< 
