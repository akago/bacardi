1,17d0
< /*
<  *  Licensed to the Apache Software Foundation (ASF) under one or more
<  *  contributor license agreements.  See the NOTICE file distributed with
<  *  this work for additional information regarding copyright ownership.
<  *  The ASF licenses this file to You under the Apache License, Version 2.0
<  *  (the "License"); you may not use this file except in compliance with
<  *  the License.  You may obtain a copy of the License at
<  *
<  *      http://www.apache.org/licenses/LICENSE-2.0
<  *
<  *  Unless required by applicable law or agreed to in writing, software
<  *  distributed under the License is distributed on an "AS IS" BASIS,
<  *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
<  *  See the License for the specific language governing permissions and
<  *  limitations under the License.
<  *
<  */
30c13
<  * Offloads to disk when a given memory consumption has been reacehd
---
>  * Offloads to disk when a given memory consumption has been reached
32c15
< class OffloadingOutputStream extends ThresholdingOutputStream
---
> class OffloadingOutputStream
79,98d61
<      * specified threshold, and save data to a temporary file beyond that point.
<      *
<      * @param threshold The number of bytes at which to trigger an event.
<      * @param prefix Prefix to use for the temporary file.
<      * @param suffix Suffix to use for the temporary file.
<      * @param directory Temporary file directory.
<      *
<      * @since 1.4
<      */
<     public OffloadingOutputStream( int threshold, String prefix, String suffix, File directory )
<     {
<         this( threshold, null, prefix, suffix, directory );
<         if ( prefix == null )
<         {
<             throw new IllegalArgumentException( "Temporary file prefix is missing" );
<         }
<     }
< 
<     /**
<      * Constructs an instance of this class which will trigger an event at the
107c70
<     private OffloadingOutputStream( int threshold, File outputFile, String prefix, String suffix, File directory )
---
>     public OffloadingOutputStream( int threshold, File outputFile, String prefix, String suffix, File directory )
109d71
<         super( threshold );
119,120d80
<     // --------------------------------------- ThresholdingOutputStream methods
< 
129d88
<     @Override
137c96
<      * that is backed by disk. This is the point at which we realise that too
---
>      * that is backed by disk. This is the point at which we realize that too
143d101
<     @Override
164,165d121
<     // --------------------------------------------------------- Public methods
< 
207d162
<     @Override
210d164
<         super.close();
